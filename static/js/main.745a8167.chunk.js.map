{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","servises/pictures-api.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","query","hendleSubmit","e","preventDefault","props","onSubmit","setState","hendleChange","currentTarget","value","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","onPictureClick","onClick","ImageGalleryItem","data","map","id","webformatURL","largeImageURL","tags","src","alt","modalpicture","Button","searchQuery","currentPage","axios","get","then","res","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onModalclick","handleBackDropClick","event","target","window","addEventListener","removeEventListener","createPortal","imageUrl","App","pictures","isLoading","error","showModal","modalPictureUrl","toggleModal","onChangeQuery","fetchPictures","options","picturesApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","onLoadMoreBtnClick","onWebPictureClick","largePicture","getAttribute","prevProps","shouldRenderLoadMoreButton","length","alert","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"yXA2CeA,E,4MAvCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACbA,EAAEC,iBAEF,EAAKC,MAAMC,SAAS,EAAKN,MAAMC,OAE/B,EAAKM,SAAS,CAAEN,MAAO,M,EAGzBO,aAAe,SAAAL,GACb,EAAKI,SAAS,CAAEN,MAAOE,EAAEM,cAAcC,S,4CAKzC,WACE,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaL,SAAUM,KAAKV,aAA5C,UACE,wBAAQW,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEG,SAAUF,KAAKJ,aACfE,MAAOE,KAAKZ,MAAMC,MAClBU,UAAU,mBACVE,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAhCAC,aCQTC,G,MARM,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,eAChC,OACE,oBAAIV,UAAU,eAAeW,QAASD,EAAtC,SACGD,MCSQG,G,MAZU,SAAC,GAAD,SAAGC,KACrBC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,KAApC,OACP,oBAAIlB,UAAU,mBAAd,SACE,qBACEmB,IAAKH,EACLI,IAAKF,EACLlB,UAAU,yBACVqB,aAAcJ,KALoBF,QCK3BO,G,MARA,SAAC,GAAiB,IAAfX,EAAc,EAAdA,QAChB,OACE,wBAAQX,UAAU,SAASE,KAAK,SAASS,QAASA,EAAlD,yB,iBCSW,EARO,SAAC,GAA2C,IAAD,IAAxCY,mBAAwC,MAA1B,GAA0B,MAAtBC,mBAAsB,MAAR,EAAQ,EAC/D,OAAOC,IACJC,IADI,UAJG,0BAIH,eAEUH,EAFV,iBAE8BC,EAF9B,gBAHG,sDAGH,wCAIJG,MAAK,SAAAC,GAAG,OAAIA,EAAIf,KAAKgB,S,iBCNpBC,G,MAAYC,SAASC,cAAc,gBAmC1BC,E,4MAxBbC,cAAgB,SAAA1C,GACC,WAAXA,EAAE2C,MACJ,EAAKzC,MAAM0C,gB,EAIfC,oBAAsB,SAAAC,GAChBA,EAAMxC,gBAAkBwC,EAAMC,QAChC,EAAK7C,MAAM0C,gB,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWxC,KAAKiC,iB,kCAG1C,WACEM,OAAOE,oBAAoB,UAAWzC,KAAKiC,iB,oBAe7C,WACE,OAAOS,uBACL,qBAAK3C,UAAU,UAAUW,QAASV,KAAKoC,oBAAvC,SACE,qBAAKrC,UAAU,QAAf,SACE,qBAAKmB,IAAKlB,KAAKP,MAAMkD,SAAUxB,IAAI,SAGvCU,O,GA5BcvB,aC+GLsC,E,4MAzGbxD,MAAQ,CACNyD,SAAU,GACVtB,YAAa,EACbD,YAAa,GACbwB,WAAW,EACXC,MAAO,KACPC,WAAW,EACXC,gBAAiB,I,EAGnBC,YAAc,WACZ,EAAKvD,UAAS,kBAAoB,CAChCqD,WADY,EAAGA,e,EAWnBG,cAAgB,SAAA9D,GACd,EAAKM,SAAS,CACZ2B,YAAajC,EACbkC,YAAa,EACbsB,SAAU,GACVE,MAAO,Q,EAIXK,cAAgB,WACd,MAAqC,EAAKhE,MACpCiE,EAAU,CAAE9B,YADlB,EAAQA,YACuBD,YAD/B,EAAqBA,aAGrB,EAAK3B,SAAS,CAAEmD,WAAW,IAE3BQ,EACiBD,GACd3B,MAAK,SAAAE,GACJ,EAAKjC,UAAS,SAAA4D,GAAS,MAAK,CAC1BV,SAAS,GAAD,mBAAMU,EAAUV,UAAhB,YAA6BjB,IACrCL,YAAagC,EAAUhC,YAAc,MAEvCgB,OAAOiB,SAAS,CACdC,IAAK3B,SAAS4B,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAAAd,GAAK,OAAI,EAAKpD,SAAS,CAAEoD,aAC/Be,SAAQ,kBAAM,EAAKnE,SAAS,CAAEmD,WAAW,Q,EAG9CiB,mBAAqB,WACnBxB,OAAOiB,SAAS,CACdC,IAAK3B,SAAS4B,gBAAgBC,aAC9BC,SAAU,Y,EAIdI,kBAAoB,SAAAzE,GAClB,IAAM0E,EAAe1E,EAAE+C,OAAO4B,aAAa,gBAE3C,EAAKvE,UAAS,iBAAO,CACnBsD,gBAAiBgB,MAGnB,EAAKf,e,wDAnDP,SAAmBiB,EAAWZ,GACxBA,EAAUjC,cAAgBtB,KAAKZ,MAAMkC,aACvCtB,KAAKoD,kB,oBAoDT,WACE,MACEpD,KAAKZ,MADCyD,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,UAAWC,EAA7B,EAA6BA,MAAOC,EAApC,EAAoCA,UAAWC,EAA/C,EAA+CA,gBAEzCmB,EAA6BvB,EAASwB,OAAS,IAAMvB,EAE3D,OACE,sBAAK/C,UAAU,MAAf,UACGgD,GAASuB,MAAM,oBAEhB,cAAC,EAAD,CAAW5E,SAAUM,KAAKmD,gBAE1B,cAAC,EAAD,CAAc1C,eAAgBT,KAAKgE,kBAAnC,SACE,cAAC,EAAD,CAAkBpD,KAAMiC,MAGzBC,GACC,cAAC,IAAD,CACE7C,KAAK,OACLsE,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAIZN,GAA8B,cAAC,EAAD,CAAQ1D,QAASV,KAAKoD,gBAEpDJ,GACC,cAAC,EAAD,CAAOL,SAAUM,EAAiBd,aAAcnC,KAAKkD,qB,GArG7C5C,aCJlBqE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF/C,SAASgD,eAAe,W","file":"static/js/main.745a8167.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  hendleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  hendleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  // Your API key: 21316694-ed9f7523baf223edee906888b\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.hendleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.hendleChange}\r\n            value={this.state.query}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport './index.css';\r\n\r\nconst ImageGallery = ({ children, onPictureClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\" onClick={onPictureClick}>\r\n      {children}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport './index.css';\r\n\r\nconst ImageGalleryItem = ({ data }) =>\r\n  data.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        modalpicture={largeImageURL}\r\n      />\r\n    </li>\r\n  ));\r\n\r\nexport default ImageGalleryItem;\r\n","import './index.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\nconst URL = 'https://pixabay.com/api';\r\nconst KEY = '21316694-ed9f7523baf223edee906888b&image_type=photo';\r\n\r\nconst fetchPictures = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${URL}/?q=${searchQuery}&page=${currentPage}&key=${KEY}&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(res => res.data.hits);\r\n};\r\n\r\nexport default { fetchPictures };\r\n","import './index.css';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onModalclick();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onModalclick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackDropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.imageUrl} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport picturesApi from './servises/pictures-api';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  static propTypes = {};\n\n  state = {\n    pictures: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalPictureUrl: '',\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      pictures: [],\n      error: null,\n    });\n  };\n\n  fetchPictures = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    picturesApi\n      .fetchPictures(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onLoadMoreBtnClick = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onWebPictureClick = e => {\n    const largePicture = e.target.getAttribute('modalpicture');\n\n    this.setState(() => ({\n      modalPictureUrl: largePicture,\n    }));\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { pictures, isLoading, error, showModal, modalPictureUrl } =\n      this.state;\n    const shouldRenderLoadMoreButton = pictures.length > 0 && !isLoading;\n\n    return (\n      <div className=\"App\">\n        {error && alert('Please try again')}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery onPictureClick={this.onWebPictureClick}>\n          <ImageGalleryItem data={pictures} />\n        </ImageGallery>\n\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchPictures} />}\n\n        {showModal && (\n          <Modal imageUrl={modalPictureUrl} onModalclick={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}